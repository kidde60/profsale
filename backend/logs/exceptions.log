{"date":"Sat Aug 16 2025 12:51:13 GMT+0300 (East Africa Time)","environment":"development","error":{"diagnosticCodes":[2412]},"exception":true,"level":"error","message":"uncaughtException: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\nTSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","os":{"loadavg":[0,0,0],"uptime":9808.343},"process":{"argv":["D:\\ProfSale\\backend\\node_modules\\ts-node\\dist\\bin.js","D:\\ProfSale\\backend\\src\\app.ts"],"cwd":"D:\\ProfSale\\backend","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4919357,"external":8014961,"heapTotal":219611136,"heapUsed":198371584,"rss":267055104},"pid":15548,"uid":null,"version":"v22.17.0"},"service":"prof-sale-api","stack":"TSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-08-16T09:51:13.247Z","trace":[{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}],"version":"1.0.0"}
{"date":"Sat Aug 16 2025 12:51:55 GMT+0300 (East Africa Time)","environment":"development","error":{"diagnosticCodes":[2412]},"exception":true,"level":"error","message":"uncaughtException: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\nTSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","os":{"loadavg":[0,0,0],"uptime":9850.984},"process":{"argv":["D:\\ProfSale\\backend\\node_modules\\ts-node\\dist\\bin.js","D:\\ProfSale\\backend\\src\\app.ts"],"cwd":"D:\\ProfSale\\backend","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4880099,"external":8014946,"heapTotal":223211520,"heapUsed":188160672,"rss":274694144},"pid":7552,"uid":null,"version":"v22.17.0"},"service":"prof-sale-api","stack":"TSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-08-16T09:51:55.887Z","trace":[{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}],"version":"1.0.0"}
{"date":"Sat Aug 16 2025 12:52:20 GMT+0300 (East Africa Time)","environment":"development","error":{"diagnosticCodes":[2412]},"exception":true,"level":"error","message":"uncaughtException: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\nTSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","os":{"loadavg":[0,0,0],"uptime":9875.515},"process":{"argv":["D:\\ProfSale\\backend\\node_modules\\ts-node\\dist\\bin.js","D:\\ProfSale\\backend\\src\\app.ts"],"cwd":"D:\\ProfSale\\backend","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4880059,"external":8014906,"heapTotal":222494720,"heapUsed":187798728,"rss":270917632},"pid":1124,"uid":null,"version":"v22.17.0"},"service":"prof-sale-api","stack":"TSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-08-16T09:52:20.426Z","trace":[{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}],"version":"1.0.0"}
{"date":"Sat Aug 16 2025 12:52:32 GMT+0300 (East Africa Time)","environment":"development","error":{"diagnosticCodes":[2412]},"exception":true,"level":"error","message":"uncaughtException: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\nTSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","os":{"loadavg":[0,0,0],"uptime":9887.921},"process":{"argv":["D:\\ProfSale\\backend\\node_modules\\ts-node\\dist\\bin.js","D:\\ProfSale\\backend\\src\\app.ts"],"cwd":"D:\\ProfSale\\backend","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4919350,"external":8014954,"heapTotal":219348992,"heapUsed":198088480,"rss":268341248},"pid":10540,"uid":null,"version":"v22.17.0"},"service":"prof-sale-api","stack":"TSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-08-16T09:52:32.829Z","trace":[{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}],"version":"1.0.0"}
{"date":"Sat Aug 16 2025 12:53:13 GMT+0300 (East Africa Time)","environment":"development","error":{"diagnosticCodes":[2412]},"exception":true,"level":"error","message":"uncaughtException: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\nTSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","os":{"loadavg":[0,0,0],"uptime":9928.921},"process":{"argv":["D:\\ProfSale\\backend\\node_modules\\ts-node\\dist\\bin.js","D:\\ProfSale\\backend\\src\\app.ts"],"cwd":"D:\\ProfSale\\backend","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4905008,"external":8000612,"heapTotal":219873280,"heapUsed":197340640,"rss":268980224},"pid":10776,"uid":null,"version":"v22.17.0"},"service":"prof-sale-api","stack":"TSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-08-16T09:53:13.833Z","trace":[{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}],"version":"1.0.0"}
{"date":"Sat Aug 16 2025 19:23:13 GMT+0300 (East Africa Time)","environment":"development","error":{"diagnosticCodes":[2412]},"exception":true,"level":"error","message":"uncaughtException: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\nTSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","os":{"loadavg":[0,0,0],"uptime":33328.156},"process":{"argv":["D:\\ProfSale\\backend\\node_modules\\ts-node\\dist\\bin.js","D:\\ProfSale\\backend\\src\\app.ts"],"cwd":"D:\\ProfSale\\backend","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4905016,"external":8000620,"heapTotal":216465408,"heapUsed":191306064,"rss":265056256},"pid":13740,"uid":null,"version":"v22.17.0"},"service":"prof-sale-api","stack":"TSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-08-16T16:23:13.069Z","trace":[{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}],"version":"1.0.0"}
{"date":"Sat Aug 16 2025 19:23:58 GMT+0300 (East Africa Time)","environment":"development","error":{"diagnosticCodes":[2412]},"exception":true,"level":"error","message":"uncaughtException: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\nTSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","os":{"loadavg":[0,0,0],"uptime":33374.015},"process":{"argv":["D:\\ProfSale\\backend\\node_modules\\ts-node\\dist\\bin.js","D:\\ProfSale\\backend\\src\\app.ts"],"cwd":"D:\\ProfSale\\backend","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4904992,"external":8000596,"heapTotal":216727552,"heapUsed":190882976,"rss":264699904},"pid":8624,"uid":null,"version":"v22.17.0"},"service":"prof-sale-api","stack":"TSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-08-16T16:23:58.923Z","trace":[{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}],"version":"1.0.0"}
{"date":"Sat Aug 16 2025 19:45:38 GMT+0300 (East Africa Time)","environment":"development","error":{"diagnosticCodes":[2722,2722,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2345,2722,2722,18046,2722,2722,2722,2345,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2345,2722,2722,2722]},"exception":true,"level":"error","message":"uncaughtException: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\nTSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","os":{"loadavg":[0,0,0],"uptime":34673.703},"process":{"argv":["D:\\ProfSale\\backend\\node_modules\\ts-node\\dist\\bin.js","D:\\ProfSale\\backend\\src\\app.ts"],"cwd":"D:\\ProfSale\\backend","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4871851,"external":7992727,"heapTotal":209887232,"heapUsed":186335992,"rss":256794624},"pid":20944,"uid":null,"version":"v22.17.0"},"service":"prof-sale-api","stack":"TSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-08-16T16:45:38.611Z","trace":[{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}],"version":"1.0.0"}
{"date":"Sat Aug 16 2025 19:47:02 GMT+0300 (East Africa Time)","environment":"development","error":{"diagnosticCodes":[2412]},"exception":true,"level":"error","message":"uncaughtException: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\nTSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","os":{"loadavg":[0,0,0],"uptime":34758},"process":{"argv":["D:\\ProfSale\\backend\\node_modules\\ts-node\\dist\\bin.js","D:\\ProfSale\\backend\\src\\app.ts"],"cwd":"D:\\ProfSale\\backend","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4905104,"external":8000708,"heapTotal":220397568,"heapUsed":194417456,"rss":268439552},"pid":23404,"uid":null,"version":"v22.17.0"},"service":"prof-sale-api","stack":"TSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-08-16T16:47:02.915Z","trace":[{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}],"version":"1.0.0"}
{"date":"Sat Aug 16 2025 19:47:30 GMT+0300 (East Africa Time)","environment":"development","error":{"diagnosticCodes":[2412]},"exception":true,"level":"error","message":"uncaughtException: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\nTSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","os":{"loadavg":[0,0,0],"uptime":34785.64},"process":{"argv":["D:\\ProfSale\\backend\\node_modules\\ts-node\\dist\\bin.js","D:\\ProfSale\\backend\\src\\app.ts"],"cwd":"D:\\ProfSale\\backend","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4904944,"external":8000548,"heapTotal":219611136,"heapUsed":194550312,"rss":267292672},"pid":2436,"uid":null,"version":"v22.17.0"},"service":"prof-sale-api","stack":"TSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-08-16T16:47:30.539Z","trace":[{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}],"version":"1.0.0"}
{"date":"Sat Aug 16 2025 19:51:07 GMT+0300 (East Africa Time)","environment":"development","error":{"diagnosticCodes":[2353,2353,2345,2345,2345]},"exception":true,"level":"error","message":"uncaughtException: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'onLimitReached' does not exist in type 'Partial<Options>'.\r\n\r\n\u001b[7m54\u001b[0m   onLimitReached: (req: Request) => {\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m95\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'onLimitReached' does not exist in type 'Partial<Options>'.\r\n\r\n\u001b[7m95\u001b[0m   onLimitReached: (req: Request) => {\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m96\u001b[0m:\u001b[93m59\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '\"critical\"' is not assignable to parameter of type '\"low\" | \"medium\" | \"high\"'.\r\n\r\n\u001b[7m96\u001b[0m     logSecurityEvent('Authentication rate limit reached', 'critical', {\r\n\u001b[7m  \u001b[0m \u001b[91m                                                          ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m347\u001b[0m:\u001b[93m23\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m347\u001b[0m     if (isWhitelisted(req.ip)) {\r\n\u001b[7m   \u001b[0m \u001b[91m                      ~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m350\u001b[0m:\u001b[93m30\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'Function' is not assignable to parameter of type 'NextFunction'.\r\n  Type 'Function' provides no match for the signature '(err?: any): void'.\r\n\r\n\u001b[7m350\u001b[0m     return limiter(req, res, next);\r\n\u001b[7m   \u001b[0m \u001b[91m                             ~~~~\u001b[0m\r\n\nTSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'onLimitReached' does not exist in type 'Partial<Options>'.\r\n\r\n\u001b[7m54\u001b[0m   onLimitReached: (req: Request) => {\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m95\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'onLimitReached' does not exist in type 'Partial<Options>'.\r\n\r\n\u001b[7m95\u001b[0m   onLimitReached: (req: Request) => {\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m96\u001b[0m:\u001b[93m59\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '\"critical\"' is not assignable to parameter of type '\"low\" | \"medium\" | \"high\"'.\r\n\r\n\u001b[7m96\u001b[0m     logSecurityEvent('Authentication rate limit reached', 'critical', {\r\n\u001b[7m  \u001b[0m \u001b[91m                                                          ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m347\u001b[0m:\u001b[93m23\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m347\u001b[0m     if (isWhitelisted(req.ip)) {\r\n\u001b[7m   \u001b[0m \u001b[91m                      ~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m350\u001b[0m:\u001b[93m30\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'Function' is not assignable to parameter of type 'NextFunction'.\r\n  Type 'Function' provides no match for the signature '(err?: any): void'.\r\n\r\n\u001b[7m350\u001b[0m     return limiter(req, res, next);\r\n\u001b[7m   \u001b[0m \u001b[91m                             ~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","os":{"loadavg":[0,0,0],"uptime":35002.796},"process":{"argv":["D:\\ProfSale\\backend\\node_modules\\ts-node\\dist\\bin.js","D:\\ProfSale\\backend\\src\\app.ts"],"cwd":"D:\\ProfSale\\backend","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4872043,"external":7982267,"heapTotal":211460096,"heapUsed":181891448,"rss":260911104},"pid":21464,"uid":null,"version":"v22.17.0"},"service":"prof-sale-api","stack":"TSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'onLimitReached' does not exist in type 'Partial<Options>'.\r\n\r\n\u001b[7m54\u001b[0m   onLimitReached: (req: Request) => {\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m95\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'onLimitReached' does not exist in type 'Partial<Options>'.\r\n\r\n\u001b[7m95\u001b[0m   onLimitReached: (req: Request) => {\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m96\u001b[0m:\u001b[93m59\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '\"critical\"' is not assignable to parameter of type '\"low\" | \"medium\" | \"high\"'.\r\n\r\n\u001b[7m96\u001b[0m     logSecurityEvent('Authentication rate limit reached', 'critical', {\r\n\u001b[7m  \u001b[0m \u001b[91m                                                          ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m347\u001b[0m:\u001b[93m23\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m347\u001b[0m     if (isWhitelisted(req.ip)) {\r\n\u001b[7m   \u001b[0m \u001b[91m                      ~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m350\u001b[0m:\u001b[93m30\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'Function' is not assignable to parameter of type 'NextFunction'.\r\n  Type 'Function' provides no match for the signature '(err?: any): void'.\r\n\r\n\u001b[7m350\u001b[0m     return limiter(req, res, next);\r\n\u001b[7m   \u001b[0m \u001b[91m                             ~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-08-16T16:51:07.712Z","trace":[{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}],"version":"1.0.0"}
{"date":"Sat Aug 16 2025 19:51:17 GMT+0300 (East Africa Time)","environment":"development","error":{"diagnosticCodes":[2353,2353,2345,2345,2345]},"exception":true,"level":"error","message":"uncaughtException: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'onLimitReached' does not exist in type 'Partial<Options>'.\r\n\r\n\u001b[7m54\u001b[0m   onLimitReached: (req: Request) => {\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m95\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'onLimitReached' does not exist in type 'Partial<Options>'.\r\n\r\n\u001b[7m95\u001b[0m   onLimitReached: (req: Request) => {\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m96\u001b[0m:\u001b[93m59\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '\"critical\"' is not assignable to parameter of type '\"low\" | \"medium\" | \"high\"'.\r\n\r\n\u001b[7m96\u001b[0m     logSecurityEvent('Authentication rate limit reached', 'critical', {\r\n\u001b[7m  \u001b[0m \u001b[91m                                                          ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m347\u001b[0m:\u001b[93m23\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m347\u001b[0m     if (isWhitelisted(req.ip)) {\r\n\u001b[7m   \u001b[0m \u001b[91m                      ~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m350\u001b[0m:\u001b[93m30\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'Function' is not assignable to parameter of type 'NextFunction'.\r\n  Type 'Function' provides no match for the signature '(err?: any): void'.\r\n\r\n\u001b[7m350\u001b[0m     return limiter(req, res, next);\r\n\u001b[7m   \u001b[0m \u001b[91m                             ~~~~\u001b[0m\r\n\nTSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'onLimitReached' does not exist in type 'Partial<Options>'.\r\n\r\n\u001b[7m54\u001b[0m   onLimitReached: (req: Request) => {\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m95\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'onLimitReached' does not exist in type 'Partial<Options>'.\r\n\r\n\u001b[7m95\u001b[0m   onLimitReached: (req: Request) => {\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m96\u001b[0m:\u001b[93m59\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '\"critical\"' is not assignable to parameter of type '\"low\" | \"medium\" | \"high\"'.\r\n\r\n\u001b[7m96\u001b[0m     logSecurityEvent('Authentication rate limit reached', 'critical', {\r\n\u001b[7m  \u001b[0m \u001b[91m                                                          ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m347\u001b[0m:\u001b[93m23\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m347\u001b[0m     if (isWhitelisted(req.ip)) {\r\n\u001b[7m   \u001b[0m \u001b[91m                      ~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m350\u001b[0m:\u001b[93m30\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'Function' is not assignable to parameter of type 'NextFunction'.\r\n  Type 'Function' provides no match for the signature '(err?: any): void'.\r\n\r\n\u001b[7m350\u001b[0m     return limiter(req, res, next);\r\n\u001b[7m   \u001b[0m \u001b[91m                             ~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","os":{"loadavg":[0,0,0],"uptime":35013.078},"process":{"argv":["D:\\ProfSale\\backend\\node_modules\\ts-node\\dist\\bin.js","D:\\ProfSale\\backend\\src\\app.ts"],"cwd":"D:\\ProfSale\\backend","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4871931,"external":7981869,"heapTotal":210935808,"heapUsed":176581280,"rss":257576960},"pid":20900,"uid":null,"version":"v22.17.0"},"service":"prof-sale-api","stack":"TSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m54\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'onLimitReached' does not exist in type 'Partial<Options>'.\r\n\r\n\u001b[7m54\u001b[0m   onLimitReached: (req: Request) => {\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m95\u001b[0m:\u001b[93m3\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'onLimitReached' does not exist in type 'Partial<Options>'.\r\n\r\n\u001b[7m95\u001b[0m   onLimitReached: (req: Request) => {\r\n\u001b[7m  \u001b[0m \u001b[91m  ~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m96\u001b[0m:\u001b[93m59\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '\"critical\"' is not assignable to parameter of type '\"low\" | \"medium\" | \"high\"'.\r\n\r\n\u001b[7m96\u001b[0m     logSecurityEvent('Authentication rate limit reached', 'critical', {\r\n\u001b[7m  \u001b[0m \u001b[91m                                                          ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m347\u001b[0m:\u001b[93m23\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m347\u001b[0m     if (isWhitelisted(req.ip)) {\r\n\u001b[7m   \u001b[0m \u001b[91m                      ~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/rateLimiter.ts\u001b[0m:\u001b[93m350\u001b[0m:\u001b[93m30\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'Function' is not assignable to parameter of type 'NextFunction'.\r\n  Type 'Function' provides no match for the signature '(err?: any): void'.\r\n\r\n\u001b[7m350\u001b[0m     return limiter(req, res, next);\r\n\u001b[7m   \u001b[0m \u001b[91m                             ~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-08-16T16:51:17.985Z","trace":[{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}],"version":"1.0.0"}
{"date":"Sat Aug 16 2025 19:53:27 GMT+0300 (East Africa Time)","environment":"development","error":{"diagnosticCodes":[2412]},"exception":true,"level":"error","message":"uncaughtException: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\nTSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","os":{"loadavg":[0,0,0],"uptime":35142.468},"process":{"argv":["D:\\ProfSale\\backend\\node_modules\\ts-node\\dist\\bin.js","D:\\ProfSale\\backend\\src\\app.ts"],"cwd":"D:\\ProfSale\\backend","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4886377,"external":7981981,"heapTotal":207790080,"heapUsed":184124864,"rss":255553536},"pid":22900,"uid":null,"version":"v22.17.0"},"service":"prof-sale-api","stack":"TSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/errorHandler.ts\u001b[0m:\u001b[93m22\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2412: \u001b[0mType 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m22\u001b[0m     this.field = field;\r\n\u001b[7m  \u001b[0m \u001b[91m    ~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-08-16T16:53:27.378Z","trace":[{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}],"version":"1.0.0"}
{"date":"Sat Aug 16 2025 22:54:37 GMT+0300 (East Africa Time)","environment":"development","error":{"diagnosticCodes":[2345,2345,2345,2769,2345,2345]},"exception":true,"level":"error","message":"uncaughtException: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/routes/product.routes.ts\u001b[0m:\u001b[93m305\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m305\u001b[0m     const productId = parseInt(req.params.id);\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/routes/product.routes.ts\u001b[0m:\u001b[93m345\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m345\u001b[0m     const productId = parseInt(req.params.id);\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/routes/product.routes.ts\u001b[0m:\u001b[93m452\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m452\u001b[0m     const productId = parseInt(req.params.id);\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/routes/product.routes.ts\u001b[0m:\u001b[93m529\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\r\n  The last overload gave the following error.\r\n    Type 'ValidationChain | undefined' is not assignable to type 'ErrorRequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>> | RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<...>>'.\r\n      Type 'undefined' is not assignable to type 'ErrorRequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>> | RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<...>>'.\r\n\r\n\u001b[7m529\u001b[0m     validationRules.productCreate[0], // name validation\r\n\u001b[7m   \u001b[0m \u001b[91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\r\n  \u001b[96mnode_modules/@types/express-serve-static-core/index.d.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m5\u001b[0m\r\n    \u001b[7m153\u001b[0m     <\r\n    \u001b[7m   \u001b[0m \u001b[96m    ~\u001b[0m\r\n    \u001b[7m154\u001b[0m         P = ParamsDictionary,\r\n    \u001b[7m   \u001b[0m \u001b[96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n    \u001b[7m...\u001b[0m \r\n    \u001b[7m162\u001b[0m         ...handlers: Array<RequestHandlerParams<P, ResBody, ReqBody, ReqQuery, LocalsObj>>\r\n    \u001b[7m   \u001b[0m \u001b[96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n    \u001b[7m163\u001b[0m     ): T;\r\n    \u001b[7m   \u001b[0m \u001b[96m~~~~~~~~~\u001b[0m\r\n    The last overload is declared here.\r\n\u001b[96msrc/routes/product.routes.ts\u001b[0m:\u001b[93m754\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m754\u001b[0m     const productId = parseInt(req.params.id);\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/routes/product.routes.ts\u001b[0m:\u001b[93m840\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m840\u001b[0m     const productId = parseInt(req.params.id);\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~\u001b[0m\r\n\nTSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/routes/product.routes.ts\u001b[0m:\u001b[93m305\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m305\u001b[0m     const productId = parseInt(req.params.id);\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/routes/product.routes.ts\u001b[0m:\u001b[93m345\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m345\u001b[0m     const productId = parseInt(req.params.id);\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/routes/product.routes.ts\u001b[0m:\u001b[93m452\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m452\u001b[0m     const productId = parseInt(req.params.id);\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/routes/product.routes.ts\u001b[0m:\u001b[93m529\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\r\n  The last overload gave the following error.\r\n    Type 'ValidationChain | undefined' is not assignable to type 'ErrorRequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>> | RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<...>>'.\r\n      Type 'undefined' is not assignable to type 'ErrorRequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>> | RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<...>>'.\r\n\r\n\u001b[7m529\u001b[0m     validationRules.productCreate[0], // name validation\r\n\u001b[7m   \u001b[0m \u001b[91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\r\n  \u001b[96mnode_modules/@types/express-serve-static-core/index.d.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m5\u001b[0m\r\n    \u001b[7m153\u001b[0m     <\r\n    \u001b[7m   \u001b[0m \u001b[96m    ~\u001b[0m\r\n    \u001b[7m154\u001b[0m         P = ParamsDictionary,\r\n    \u001b[7m   \u001b[0m \u001b[96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n    \u001b[7m...\u001b[0m \r\n    \u001b[7m162\u001b[0m         ...handlers: Array<RequestHandlerParams<P, ResBody, ReqBody, ReqQuery, LocalsObj>>\r\n    \u001b[7m   \u001b[0m \u001b[96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n    \u001b[7m163\u001b[0m     ): T;\r\n    \u001b[7m   \u001b[0m \u001b[96m~~~~~~~~~\u001b[0m\r\n    The last overload is declared here.\r\n\u001b[96msrc/routes/product.routes.ts\u001b[0m:\u001b[93m754\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m754\u001b[0m     const productId = parseInt(req.params.id);\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/routes/product.routes.ts\u001b[0m:\u001b[93m840\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m840\u001b[0m     const productId = parseInt(req.params.id);\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","os":{"loadavg":[0,0,0],"uptime":10462.078},"process":{"argv":["D:\\ProfSale\\backend\\node_modules\\ts-node\\dist\\bin.js","D:\\ProfSale\\backend\\src\\app.ts"],"cwd":"D:\\ProfSale\\backend","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4871883,"external":7967487,"heapTotal":216965120,"heapUsed":190193248,"rss":271167488},"pid":9688,"uid":null,"version":"v22.17.0"},"service":"prof-sale-api","stack":"TSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/routes/product.routes.ts\u001b[0m:\u001b[93m305\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m305\u001b[0m     const productId = parseInt(req.params.id);\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/routes/product.routes.ts\u001b[0m:\u001b[93m345\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m345\u001b[0m     const productId = parseInt(req.params.id);\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/routes/product.routes.ts\u001b[0m:\u001b[93m452\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m452\u001b[0m     const productId = parseInt(req.params.id);\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/routes/product.routes.ts\u001b[0m:\u001b[93m529\u001b[0m:\u001b[93m5\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\r\n  The last overload gave the following error.\r\n    Type 'ValidationChain | undefined' is not assignable to type 'ErrorRequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>> | RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<...>>'.\r\n      Type 'undefined' is not assignable to type 'ErrorRequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>> | RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<...>>'.\r\n\r\n\u001b[7m529\u001b[0m     validationRules.productCreate[0], // name validation\r\n\u001b[7m   \u001b[0m \u001b[91m    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\r\n  \u001b[96mnode_modules/@types/express-serve-static-core/index.d.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m5\u001b[0m\r\n    \u001b[7m153\u001b[0m     <\r\n    \u001b[7m   \u001b[0m \u001b[96m    ~\u001b[0m\r\n    \u001b[7m154\u001b[0m         P = ParamsDictionary,\r\n    \u001b[7m   \u001b[0m \u001b[96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n    \u001b[7m...\u001b[0m \r\n    \u001b[7m162\u001b[0m         ...handlers: Array<RequestHandlerParams<P, ResBody, ReqBody, ReqQuery, LocalsObj>>\r\n    \u001b[7m   \u001b[0m \u001b[96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n    \u001b[7m163\u001b[0m     ): T;\r\n    \u001b[7m   \u001b[0m \u001b[96m~~~~~~~~~\u001b[0m\r\n    The last overload is declared here.\r\n\u001b[96msrc/routes/product.routes.ts\u001b[0m:\u001b[93m754\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m754\u001b[0m     const productId = parseInt(req.params.id);\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/routes/product.routes.ts\u001b[0m:\u001b[93m840\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m840\u001b[0m     const productId = parseInt(req.params.id);\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-08-16T19:54:37.982Z","trace":[{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}],"version":"1.0.0"}
{"date":"Sat Aug 16 2025 22:58:27 GMT+0300 (East Africa Time)","environment":"development","error":{"diagnosticCodes":[2722,2722,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2345,2722,2722,18046,2722,2722,2722,2345,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2345,2722,2722,2722]},"exception":true,"level":"error","message":"uncaughtException: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\nTSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","os":{"loadavg":[0,0,0],"uptime":10691.875},"process":{"argv":["D:\\ProfSale\\backend\\node_modules\\ts-node\\dist\\bin.js","D:\\ProfSale\\backend\\src\\app.ts"],"cwd":"D:\\ProfSale\\backend","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4871879,"external":7873456,"heapTotal":209956864,"heapUsed":175346080,"rss":263921664},"pid":10400,"uid":null,"version":"v22.17.0"},"service":"prof-sale-api","stack":"TSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-08-16T19:58:27.797Z","trace":[{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}],"version":"1.0.0"}
{"date":"Sat Aug 16 2025 22:58:50 GMT+0300 (East Africa Time)","environment":"development","error":{"diagnosticCodes":[2722,2722,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2345,2722,2722,18046,2722,2722,2722,2345,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2345,2722,2722,2722]},"exception":true,"level":"error","message":"uncaughtException: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\nTSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","os":{"loadavg":[0,0,0],"uptime":10715.031},"process":{"argv":["D:\\ProfSale\\backend\\node_modules\\ts-node\\dist\\bin.js","D:\\ProfSale\\backend\\src\\app.ts"],"cwd":"D:\\ProfSale\\backend","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4871911,"external":7887822,"heapTotal":208646144,"heapUsed":176810776,"rss":258768896},"pid":7272,"uid":null,"version":"v22.17.0"},"service":"prof-sale-api","stack":"TSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-08-16T19:58:50.945Z","trace":[{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}],"version":"1.0.0"}
{"date":"Sat Aug 16 2025 22:59:44 GMT+0300 (East Africa Time)","environment":"development","error":{"diagnosticCodes":[2722,2722,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2345,2722,2722,18046,2722,2722,2722,2345,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2345,2722,2722,2722]},"exception":true,"level":"error","message":"uncaughtException: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\nTSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","os":{"loadavg":[0,0,0],"uptime":10768.937},"process":{"argv":["D:\\ProfSale\\backend\\node_modules\\ts-node\\dist\\bin.js","D:\\ProfSale\\backend\\src\\app.ts"],"cwd":"D:\\ProfSale\\backend","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4871975,"external":7887886,"heapTotal":208646144,"heapUsed":176955728,"rss":258723840},"pid":8300,"uid":null,"version":"v22.17.0"},"service":"prof-sale-api","stack":"TSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-08-16T19:59:44.852Z","trace":[{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}],"version":"1.0.0"}
{"date":"Sat Aug 16 2025 22:59:59 GMT+0300 (East Africa Time)","environment":"development","error":{"diagnosticCodes":[2722,2722,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2345,2722,2722,18046,2722,2722,2722,2345,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2345,2722,2722,2722]},"exception":true,"level":"error","message":"uncaughtException: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\nTSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","os":{"loadavg":[0,0,0],"uptime":10783.203},"process":{"argv":["D:\\ProfSale\\backend\\node_modules\\ts-node\\dist\\bin.js","D:\\ProfSale\\backend\\src\\app.ts"],"cwd":"D:\\ProfSale\\backend","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4871999,"external":7906315,"heapTotal":208384000,"heapUsed":183817464,"rss":259592192},"pid":1632,"uid":null,"version":"v22.17.0"},"service":"prof-sale-api","stack":"TSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-08-16T19:59:59.124Z","trace":[{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}],"version":"1.0.0"}
{"date":"Sat Aug 16 2025 23:00:23 GMT+0300 (East Africa Time)","environment":"development","error":{"diagnosticCodes":[2722,2722,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2345,2722,2722,18046,2722,2722,2722,2345,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2345,2722,2722,2722]},"exception":true,"level":"error","message":"uncaughtException: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\nTSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","os":{"loadavg":[0,0,0],"uptime":10807.75},"process":{"argv":["D:\\ProfSale\\backend\\node_modules\\ts-node\\dist\\bin.js","D:\\ProfSale\\backend\\src\\app.ts"],"cwd":"D:\\ProfSale\\backend","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4872039,"external":7906355,"heapTotal":207859712,"heapUsed":183575024,"rss":258052096},"pid":16004,"uid":null,"version":"v22.17.0"},"service":"prof-sale-api","stack":"TSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-08-16T20:00:23.662Z","trace":[{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}],"version":"1.0.0"}
{"date":"Sat Aug 16 2025 23:01:02 GMT+0300 (East Africa Time)","environment":"development","error":{"diagnosticCodes":[2722,2722,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2345,2722,2722,18046,2722,2722,2722,2345,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2722,2722,2722,2722,2722,2345,2722,2345,2722,2722,2722]},"exception":true,"level":"error","message":"uncaughtException: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\nTSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","os":{"loadavg":[0,0,0],"uptime":10846.312},"process":{"argv":["D:\\ProfSale\\backend\\node_modules\\ts-node\\dist\\bin.js","D:\\ProfSale\\backend\\src\\app.ts"],"cwd":"D:\\ProfSale\\backend","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":4871951,"external":7906267,"heapTotal":207859712,"heapUsed":183476960,"rss":257720320},"pid":20392,"uid":null,"version":"v22.17.0"},"service":"prof-sale-api","stack":"TSError: ⨯ Unable to compile TypeScript:\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m152\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m153\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m154\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m155\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m155\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m16\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m160\u001b[0m       referer: tokens.referrer(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m               ~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m161\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m161\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m162\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m213\u001b[0m:\u001b[93m20\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m213\u001b[0m       endpoint: `${tokens.method(req, res)} ${req.route?.path || req.url}`,\r\n\u001b[7m   \u001b[0m \u001b[91m                   ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m214\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m215\u001b[0m       responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m216\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m217\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m249\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS18046: \u001b[0m'error' is of type 'unknown'.\r\n\r\n\u001b[7m249\u001b[0m           error: error.message,\r\n\u001b[7m   \u001b[0m \u001b[91m                 ~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m265\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m266\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m267\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m268\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m268\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m269\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m269\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m270\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m271\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m318\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m318\u001b[0m       method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m319\u001b[0m:\u001b[93m12\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m319\u001b[0m       url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m           ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m320\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m320\u001b[0m       status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m15\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m323\u001b[0m       userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m              ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m324\u001b[0m:\u001b[93m19\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m324\u001b[0m       businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                  ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m325\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m325\u001b[0m       ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m          ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m409\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m409\u001b[0m         method: tokens.method(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m410\u001b[0m:\u001b[93m14\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m410\u001b[0m         url: tokens.url(req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m             ~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m411\u001b[0m:\u001b[93m26\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m411\u001b[0m         status: parseInt(tokens.status(req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                         ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m412\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.\r\n  Type 'undefined' is not assignable to type 'string'.\r\n\r\n\u001b[7m412\u001b[0m         responseTime: parseFloat(tokens['response-time'](req, res)) || 0,\r\n\u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m413\u001b[0m:\u001b[93m13\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m413\u001b[0m         ip: tokens['real-ip'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m            ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m414\u001b[0m:\u001b[93m17\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m414\u001b[0m         userId: tokens['user-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                ~~~~~~~~~~~~~~~~~\u001b[0m\r\n\u001b[96msrc/middleware/requestLogger.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2722: \u001b[0mCannot invoke an object which is possibly 'undefined'.\r\n\r\n\u001b[7m415\u001b[0m         businessId: tokens['business-id'](req, res),\r\n\u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\r\n\n    at createTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:859:12)\n    at reportTSError (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:863:19)\n    at getOutput (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1077:36)\n    at Object.compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1433:41)\n    at Module.m._compile (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1617:30)\n    at node:internal/modules/cjs/loader:1895:10\n    at Object.require.extensions.<computed> [as .ts] (D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-08-16T20:01:02.225Z","trace":[{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"createTSError","line":859,"method":null,"native":false},{"column":19,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"reportTSError","line":863,"method":null,"native":false},{"column":36,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"getOutput","line":1077,"method":null,"native":false},{"column":41,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.compile","line":1433,"method":"compile","native":false},{"column":30,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Module.m._compile","line":1617,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":null,"line":1895,"method":null,"native":false},{"column":12,"file":"D:\\ProfSale\\backend\\node_modules\\ts-node\\src\\index.ts","function":"Object.require.extensions.<computed> [as .ts]","line":1621,"method":"ts]","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1465,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Function._load","line":1282,"method":"_load","native":false},{"column":14,"file":"node:diagnostics_channel","function":"TracingChannel.traceSync","line":322,"method":"traceSync","native":false}],"version":"1.0.0"}
